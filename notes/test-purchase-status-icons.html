<!DOCTYPE html>
<html>
<head>
    <title>Test Purchase Status Icons</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/boxicons@2.0.7/css/boxicons.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <h1>Test Purchase Status Icons with Translations</h1>

        <div class="row mb-4">
            <div class="col-md-6">
                <h3>English Statuses</h3>
                <div id="english-statuses"></div>
            </div>
            <div class="col-md-6">
                <h3>Arabic Statuses</h3>
                <div id="arabic-statuses"></div>
            </div>
        </div>

        <div class="row mb-4">
            <div class="col-md-6">
                <h3>Purchase Bill List (Before Update)</h3>
                <div id="bill-list-before"></div>
            </div>
            <div class="col-md-6">
                <h3>Purchase Bill List (After Update)</h3>
                <div id="bill-list-after"></div>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="public/custom/js/purchase/purchase-status-icons.js"></script>

    <script>
        // Test English translations
        const englishTranslations = {
            'purchase.pending': 'Pending',
            'purchase.processing': 'Processing',
            'purchase.completed': 'Completed',
            'purchase.shipped': 'Shipped',
            'purchase.rog': 'ROG',
            'purchase.cancelled': 'Cancelled',
            'purchase.returned': 'Returned'
        };

        // Test Arabic translations
        const arabicTranslations = {
            'purchase.pending': 'معلق',
            'purchase.processing': 'قيد المعالجة',
            'purchase.completed': 'مكتمل',
            'purchase.shipped': 'مُرسل',
            'purchase.rog': 'استلام البضائع',
            'purchase.cancelled': 'ملغي',
            'purchase.returned': 'مُرجع'
        };

        // Test with English
        window.purchaseStatusIcons.setTranslations(englishTranslations);

        const statuses = ['Pending', 'Processing', 'Completed', 'Shipped', 'ROG', 'Cancelled', 'Returned'];

        let englishHtml = '';
        statuses.forEach(status => {
            englishHtml += '<div class="mb-2">' + window.purchaseStatusIcons.createStatusBadge(status) + '</div>';
        });
        document.getElementById('english-statuses').innerHTML = englishHtml;

        // Test with Arabic
        window.purchaseStatusIcons.setTranslations(arabicTranslations);

        let arabicHtml = '';
        statuses.forEach(status => {
            arabicHtml += '<div class="mb-2">' + window.purchaseStatusIcons.createStatusBadge(status) + '</div>';
        });
        document.getElementById('arabic-statuses').innerHTML = arabicHtml;

        // Test the old way (before update) - hardcoded status texts
        const oldStatusMap = {
            'Pending': { class: 'bg-light-warning text-warning', text: 'Pending', icon: 'bx-time-five' },
            'Processing': { class: 'bg-light-primary text-primary', text: 'Processing', icon: 'bx-loader-circle bx-spin' },
            'Completed': { class: 'bg-light-success text-success', text: 'Completed', icon: 'bx-check-circle' },
            'Shipped': { class: 'bg-light-info text-info', text: 'Shipped', icon: 'bx-package' },
            'ROG': { class: 'bg-light-success text-success', text: 'ROG', icon: 'bx-receipt' },
            'Cancelled': { class: 'bg-light-danger text-danger', text: 'Cancelled', icon: 'bx-x-circle' },
            'Returned': { class: 'bg-light-warning text-warning', text: 'Returned', icon: 'bx-undo' },
            'pending': { class: 'bg-light-warning text-warning', text: 'Pending', icon: 'bx-time-five' },
            'processing': { class: 'bg-light-primary text-primary', text: 'Processing', icon: 'bx-loader-circle bx-spin' },
            'completed': { class: 'bg-light-success text-success', text: 'Completed', icon: 'bx-check-circle' },
            'shipped': { class: 'bg-light-info text-info', text: 'Shipped', icon: 'bx-package' },
            'rog': { class: 'bg-light-success text-success', text: 'ROG', icon: 'bx-receipt' },
            'cancelled': { class: 'bg-light-danger text-danger', text: 'Cancelled', icon: 'bx-x-circle' },
            'returned': { class: 'bg-light-warning text-warning', text: 'Returned', icon: 'bx-undo' }
        };

        let oldHtml = '';
        statuses.forEach(status => {
            let statusInfo = oldStatusMap[status];
            if (!statusInfo) {
                statusInfo = { class: 'bg-light-secondary text-secondary', text: status, icon: '' };
            }
            const iconHtml = statusInfo.icon ? `<i class="bx ${statusInfo.icon} me-1"></i>` : '';
            oldHtml += `<div class="mb-2"><div class="badge ${statusInfo.class} p-2 px-3">${iconHtml}${statusInfo.text}</div></div>`;
        });
        document.getElementById('bill-list-before').innerHTML = oldHtml;

        // Test the new way (after update) - using purchaseStatusIcons
        window.purchaseStatusIcons.setTranslations(englishTranslations);
        let newHtml = '';
        statuses.forEach(status => {
            newHtml += '<div class="mb-2">' + window.purchaseStatusIcons.createStatusBadge(status) + '</div>';
        });
        document.getElementById('bill-list-after').innerHTML = newHtml;
    </script>
</body>
</html>
